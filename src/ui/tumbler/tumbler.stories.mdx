import { useState, useRef, useDeferredValue } from 'react'
import { Canvas, Story, Meta, ArgsTable } from '@storybook/addon-docs'

import { Tumbler } from './tumbler.component.tsx'

<Meta
  title="Tumbler"
  component={Tumbler}
  decorators={[(story) => <div className="flex p-2 space-x-4">{story()}</div>]}
/>

# Toggle

export const Template = (args) => {
  const node = useRef < HTMLInputElement > null
  const [value, setValue] = useState(25)
  // const onChange = useDeferredValue((e) => setValue(+e?.target?.value))
  // const onChange = useDeferredValue((e) => setValue(+e?.target?.value))
  return (
    <>
      <div className="flex items-center">
        <Tumbler
          min={0}
          max={100}
          step={1}
          value={value}
          size={140}
          borderWidth={10}
          onChange={setValue}
        >
          <span>{value.toFixed(2)}</span>
        </Tumbler>
        <input
          type="range"
          min="0"
          max="100"
          value={value}
          readOnly
          className="ml-4"
        />
      </div>
    </>
  )
}

<Canvas>
  <Story name="Default" args={{}}>
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable of={Tumbler} />
