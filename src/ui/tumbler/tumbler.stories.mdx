import { useState, useRef, useDeferredValue } from 'react'
import { Canvas, Story, Meta, ArgsTable } from '@storybook/addon-docs'

import { IconLeaf } from 'ui/icon'
import { Tumbler } from './tumbler.component.tsx'

<Meta
  title="Tumbler"
  component={Tumbler}
  decorators={[
    (story) => <div className="flex p-2 space-x-4 items-center">{story()}</div>,
  ]}
/>

# Toggle

export const Template = (args) => {
  const [value, setValue] = useState(args.initialValue)
  return (
    <Tumbler {...args} onChange={setValue}>
      <div className="flex flex-col justify-between items-center">
        <IconLeaf />
        <span className="text-subtitle-bold">{value} kWh</span>
        <span className="text-subtitle-bold">â‚¬ 1.25</span>
      </div>
    </Tumbler>
  )
}

<Canvas>
  <Story
    name="Default"
    args={{
      min: 0,
      max: 30,
      step: 1,
      initialValue: 14,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Default" />
