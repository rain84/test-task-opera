import { useState, useRef, useDeferredValue } from 'react'
import { Canvas, Story, Meta, ArgsTable } from '@storybook/addon-docs'

import { ErrorBoundary } from 'features/ErrorBoundary'
import { IconLeaf } from 'ui/icon'
import { Tumbler } from './tumbler.component.tsx'

<Meta
  title="Tumbler"
  component={Tumbler}
  decorators={[(story) => <div className="flex p-2 space-x-4">{story()}</div>]}
/>

# Toggle

export const Template = (args) => {
  const node = useRef < HTMLInputElement > null
  const initialValue = 25
  const [value, setValue] = useState(initialValue)
  const [min, setMin] = useState(25)
  const onChangeMin = (e) => setMin(+e?.target?.value)
  return (
    <>
      <div className="flex items-center">
        <Tumbler
          min={min}
          max={30}
          step={1}
          initialValue={initialValue}
          onChange={setValue}
        >
          <div className="flex flex-col justify-between items-center">
            <IconLeaf />
            <span className="text-subtitle-bold">{value} kWh</span>
            <span className="text-subtitle-bold">â‚¬ 1.25</span>
          </div>
        </Tumbler>
      </div>
    </>
  )
}

<Canvas>
  <Story
    name="Default"
    args={{
      min: 0,
      max: 30,
      step: 1,
      initialValue: 14,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story={Default} />
